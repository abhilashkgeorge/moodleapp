<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button [text]="'core.back' | translate"></ion-back-button>
        </ion-buttons>

        <ion-title>
            <h1>{{ 'core.login.changepassword' | translate }}</h1>
        </ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-list class="list-item-limited-width">
        <ng-container>
            <ion-item class="ion-text-wrap ion-margin-bottom">
                <ion-label>
                    <h2>{{ 'You must change your password to proceed' | translate }}</h2>
                    <ion-card>
                        <ion-card-content>
                            <ion-list lines="none">
                                <ion-item>
                                    <ion-icon [name]="isPasswordValid(newPassword) ? 'checkmark-circle' : 'close-circle'"
                                        [color]="isPasswordValid(newPassword) ? 'success' : 'danger'"
                                        style="margin-right: 10px;"></ion-icon>
                                    <ion-label class="ion-text-wrap">{{ 'Password must be at least 7 characters long.' | translate
                                        }}</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-icon [name]="hasLowerCase(newPassword) ? 'checkmark-circle' : 'close-circle'"
                                        [color]="hasLowerCase(newPassword) ? 'success' : 'danger'" style="margin-right: 10px;"></ion-icon>
                                    <ion-label class="ion-text-wrap">{{ 'Password must have at least 1 lower case letter(s).' | translate
                                        }}</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-icon [name]="hasUpperCase(newPassword) ? 'checkmark-circle' : 'close-circle'"
                                        [color]="hasUpperCase(newPassword) ? 'success' : 'danger'" style="margin-right: 10px;"></ion-icon>
                                    <ion-label class="ion-text-wrap">{{ 'Password must have at least 1 upper case letter(s).' | translate
                                        }}</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-icon [name]="hasSpecialCharacter(newPassword) ? 'checkmark-circle' : 'close-circle'"
                                        [color]="hasSpecialCharacter(newPassword) ? 'success' : 'danger'"
                                        style="margin-right: 10px;"></ion-icon>
                                    <ion-label class="ion-text-wrap">{{ 'Password must have at least 1 special character(s) such as *, -, or
                                        #' | translate }}</ion-label>
                                </ion-item>
                                <ion-item>
                                    <ion-icon [name]="hasSpecialCharacter(newPassword) ? 'checkmark-circle' : 'close-circle'"
                                        [color]="hasDigit(newPassword) ? 'success' : 'danger'" style="margin-right: 10px;"></ion-icon>
                                    <ion-label class="ion-text-wrap">{{ 'Password must have at least 1 digit(s).' | translate }}</ion-label>
                                </ion-item>
                            </ion-list>
                        </ion-card-content>
                    </ion-card>
                </ion-label>
            </ion-item>
            <ion-item class="ion-text-wrap ">
                <ion-label class="input-label user-text" position="stacked"> Enter the password for {{ username }}</ion-label>
            </ion-item>
            <ion-item class="ion-text-wrap">
                <ion-label class="input-label" position="stacked">{{ 'Current Password' | translate }}</ion-label>
                <ion-input class="input-field" type="password" [(ngModel)]="password"></ion-input>
            </ion-item>
            <ion-item class="ion-text-wrap">
                <ion-label class="input-label" position="stacked">{{ 'core.login.newpassword' | translate }}</ion-label>
                <ion-input class="input-field" type="password" [(ngModel)]="newPassword"></ion-input>
            </ion-item>
            <ion-item class="ion-text-wrap">
                <ion-label class="input-label" position="stacked">{{ 'core.login.confirmpassword' | translate }}</ion-label>
                <ion-input class="input-field" type="password" [(ngModel)]="confirmPassword"></ion-input>
            </ion-item>
            <ion-button class="ion-text-wrap ion-margin-top" expand="block" (click)="login()">
                {{ 'core.login.changepassword' | translate }}
            </ion-button>

        </ng-container>
    </ion-list>
</ion-content>
